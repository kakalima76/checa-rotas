<!DOCTYPE html>
<html>
  <head>
    <title>Vue.js with Leaflet</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div id="app">
      <div class="container-fluid">
        <div class="form-group">
          <div class="form-group">
            <label for="bearerInput">Token</label>
            <input class="form-control" id="bearerInput" v-model="bearer" />
          </div>

          <label for="selectGerencia">Gerência</label>
          <select
            class="form-control"
            id="selectGerencia"
            v-model="gerencia"
            @change="updateRoteiros"
          >
            <option value="" disabled selected>Selecione...</option>
            <option
              v-for="gerenciaItem in gerencias"
              :key="gerenciaItem"
              :value="gerenciaItem"
            >
              {{ gerenciaItem }}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="selectRoteiro">Roteiro</label>
          <select
            class="form-control"
            id="selectRoteiro"
            v-model="roteiro"
            :disabled="!gerencia"
            @change="buscarRoteiro"
          >
            <option value="" disabled selected>Selecione...</option>
            <option
              v-for="roteiroItem in filteredRoteiros"
              :key="roteiroItem"
              :value="roteiroItem"
            >
              {{ roteiroItem }}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="selectTurno">Veículos</label>
          <select
            class="form-control"
            id="selectPlaca"
            v-model="veiculo"
            :disabled="!roteiro"
          >
            <option value="" disabled selected>Selecione...</option>
            <option v-for="item in filteredPrefixos" :key="item" :value="item">
              {{ item }}
            </option>
          </select>
        </div>

        <div class="form-group">
          <label for="dataInput">Data</label>
          <input
            type="date"
            class="form-control"
            id="dataInput"
            v-model="data"
            :disabled="!veiculo"
            @change="buscarTelemetria"
          />
        </div>
      </div>

      <div id="map" style="height: 100%"></div>
      <!-- Certifique-se que o container está presente -->
    </div>
    <script src="./script.js"></script>
  </body>
</html>
